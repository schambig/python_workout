Comprehensions, functions and error handling
